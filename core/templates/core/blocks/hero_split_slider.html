{% load wagtailimages_tags wagtailsettings_tags %}

{% get_settings use_default_site=True %}
{% with chrome=settings.core.SiteChrome %}

<section class="heroSS" id="top" data-hero-slider data-autoplay="{{ self.autoplay|yesno:'1,0' }}"
  data-interval="{{ self.autoplay_seconds|default:6 }}">

  <div class="heroSS__stage" aria-label="Hero image slider">

    <div class="heroSS__slides" data-slides>
      {% for s in self.slides %}
      <div class="heroSS__slide {% if forloop.first %}is-active{% endif %}" data-slide
        aria-hidden="{% if forloop.first %}false{% else %}true{% endif %}">

        {% image s.image fill-2200x1400 class="heroSS__img" alt=s.alt %}

        <div class="heroSS__overlay" aria-hidden="true"></div>

        {# Caption is optional per slide #}
        {% if s.eyebrow or s.title %}
        <div class="heroSS__caption">
          {% if s.eyebrow %}
          <div class="heroSS__eyebrow">{{ s.eyebrow }}</div>
          {% endif %}
          {% if s.title %}
          <div class="heroSS__title">{{ s.title }}</div>
          {% endif %}
        </div>
        {% endif %}
      </div>
      {% endfor %}
    </div>

    {% if self.show_arrows %}
    <button class="heroSS__btn heroSS__btn--prev" type="button" data-prev aria-label="Previous slide">‹</button>

    <button class="heroSS__btn heroSS__btn--next" type="button" data-next aria-label="Next slide">›</button>
    {% endif %}

    {% if self.show_dots %}
    <div class="heroSS__dots" data-dots aria-label="Slide navigation">
      {% for _ in self.slides %}
      <button class="heroSS__dot {% if forloop.first %}is-active{% endif %}" type="button" data-dot
        aria-label="Go to slide {{ forloop.counter }}">
      </button>
      {% endfor %}
    </div>
    {% endif %}

  </div>
</section>

{% endwith %}